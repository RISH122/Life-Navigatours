{"id":"bPVs","dependencies":[{"name":"C:\\Users\\Rishi\\OneDrive\\Desktop\\4-natours\\starter\\package.json","includedInParent":true,"mtime":1708952721338},{"name":"./../models/reviewModel","loc":{"line":1,"column":21,"index":21},"parent":"C:\\Users\\Rishi\\OneDrive\\Desktop\\4-natours\\starter\\controllers\\reviewController.js","resolved":"C:\\Users\\Rishi\\OneDrive\\Desktop\\4-natours\\starter\\models\\reviewModel.js"},{"name":"./handleFactory","loc":{"line":3,"column":22,"index":127},"parent":"C:\\Users\\Rishi\\OneDrive\\Desktop\\4-natours\\starter\\controllers\\reviewController.js","resolved":"C:\\Users\\Rishi\\OneDrive\\Desktop\\4-natours\\starter\\controllers\\handleFactory.js"}],"generated":{"js":"var e=require(\"./../models/reviewModel\"),r=require(\"./handleFactory\");exports.setTourUserIds=function(e,r,t){e.body.tour||(e.body.tour=e.params.tourId),e.body.user||(e.body.user=e.user.id),t()},exports.getAllReviews=r.getAll(e),exports.getReview=r.getOne(e),exports.createReview=r.createOne(e),exports.deleteReview=r.deleteOne(e),exports.updateReview=r.updateOne(e);"},"sourceMaps":{"js":{"mappings":[{"source":"../../controllers/reviewController.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../../controllers/reviewController.js","name":"Review","original":{"line":1,"column":6},"generated":{"line":1,"column":4}},{"source":"../../controllers/reviewController.js","name":"require","original":{"line":1,"column":13},"generated":{"line":1,"column":6}},{"source":"../../controllers/reviewController.js","original":{"line":1,"column":21},"generated":{"line":1,"column":14}},{"source":"../../controllers/reviewController.js","name":"factory","original":{"line":3,"column":6},"generated":{"line":1,"column":41}},{"source":"../../controllers/reviewController.js","name":"require","original":{"line":3,"column":14},"generated":{"line":1,"column":43}},{"source":"../../controllers/reviewController.js","original":{"line":3,"column":22},"generated":{"line":1,"column":51}},{"source":"../../controllers/reviewController.js","name":"exports","original":{"line":5,"column":0},"generated":{"line":1,"column":70}},{"source":"../../controllers/reviewController.js","name":"setTourUserIds","original":{"line":5,"column":8},"generated":{"line":1,"column":78}},{"source":"../../controllers/reviewController.js","original":{"line":5,"column":23},"generated":{"line":1,"column":93}},{"source":"../../controllers/reviewController.js","name":"req","original":{"line":5,"column":24},"generated":{"line":1,"column":102}},{"source":"../../controllers/reviewController.js","name":"res","original":{"line":5,"column":28},"generated":{"line":1,"column":104}},{"source":"../../controllers/reviewController.js","name":"next","original":{"line":5,"column":32},"generated":{"line":1,"column":106}},{"source":"../../controllers/reviewController.js","name":"req","original":{"line":6,"column":8},"generated":{"line":1,"column":109}},{"source":"../../controllers/reviewController.js","name":"body","original":{"line":6,"column":12},"generated":{"line":1,"column":111}},{"source":"../../controllers/reviewController.js","name":"tour","original":{"line":6,"column":17},"generated":{"line":1,"column":116}},{"source":"../../controllers/reviewController.js","name":"req","original":{"line":6,"column":23},"generated":{"line":1,"column":123}},{"source":"../../controllers/reviewController.js","name":"body","original":{"line":6,"column":27},"generated":{"line":1,"column":125}},{"source":"../../controllers/reviewController.js","name":"tour","original":{"line":6,"column":32},"generated":{"line":1,"column":130}},{"source":"../../controllers/reviewController.js","name":"req","original":{"line":6,"column":37},"generated":{"line":1,"column":135}},{"source":"../../controllers/reviewController.js","name":"params","original":{"line":6,"column":41},"generated":{"line":1,"column":137}},{"source":"../../controllers/reviewController.js","name":"tourId","original":{"line":6,"column":48},"generated":{"line":1,"column":144}},{"source":"../../controllers/reviewController.js","name":"req","original":{"line":7,"column":8},"generated":{"line":1,"column":152}},{"source":"../../controllers/reviewController.js","name":"body","original":{"line":7,"column":12},"generated":{"line":1,"column":154}},{"source":"../../controllers/reviewController.js","name":"user","original":{"line":7,"column":17},"generated":{"line":1,"column":159}},{"source":"../../controllers/reviewController.js","name":"req","original":{"line":7,"column":23},"generated":{"line":1,"column":166}},{"source":"../../controllers/reviewController.js","name":"body","original":{"line":7,"column":27},"generated":{"line":1,"column":168}},{"source":"../../controllers/reviewController.js","name":"user","original":{"line":7,"column":32},"generated":{"line":1,"column":173}},{"source":"../../controllers/reviewController.js","name":"req","original":{"line":7,"column":37},"generated":{"line":1,"column":178}},{"source":"../../controllers/reviewController.js","name":"user","original":{"line":7,"column":41},"generated":{"line":1,"column":180}},{"source":"../../controllers/reviewController.js","name":"id","original":{"line":7,"column":46},"generated":{"line":1,"column":185}},{"source":"../../controllers/reviewController.js","name":"next","original":{"line":8,"column":4},"generated":{"line":1,"column":189}},{"source":"../../controllers/reviewController.js","name":"exports","original":{"line":11,"column":0},"generated":{"line":1,"column":194}},{"source":"../../controllers/reviewController.js","name":"getAllReviews","original":{"line":11,"column":8},"generated":{"line":1,"column":202}},{"source":"../../controllers/reviewController.js","name":"factory","original":{"line":11,"column":24},"generated":{"line":1,"column":216}},{"source":"../../controllers/reviewController.js","name":"getAll","original":{"line":11,"column":32},"generated":{"line":1,"column":218}},{"source":"../../controllers/reviewController.js","name":"Review","original":{"line":11,"column":39},"generated":{"line":1,"column":225}},{"source":"../../controllers/reviewController.js","name":"exports","original":{"line":12,"column":0},"generated":{"line":1,"column":228}},{"source":"../../controllers/reviewController.js","name":"getReview","original":{"line":12,"column":8},"generated":{"line":1,"column":236}},{"source":"../../controllers/reviewController.js","name":"factory","original":{"line":12,"column":20},"generated":{"line":1,"column":246}},{"source":"../../controllers/reviewController.js","name":"getOne","original":{"line":12,"column":28},"generated":{"line":1,"column":248}},{"source":"../../controllers/reviewController.js","name":"Review","original":{"line":12,"column":35},"generated":{"line":1,"column":255}},{"source":"../../controllers/reviewController.js","name":"exports","original":{"line":13,"column":0},"generated":{"line":1,"column":258}},{"source":"../../controllers/reviewController.js","name":"createReview","original":{"line":13,"column":8},"generated":{"line":1,"column":266}},{"source":"../../controllers/reviewController.js","name":"factory","original":{"line":13,"column":21},"generated":{"line":1,"column":279}},{"source":"../../controllers/reviewController.js","name":"createOne","original":{"line":13,"column":29},"generated":{"line":1,"column":281}},{"source":"../../controllers/reviewController.js","name":"Review","original":{"line":13,"column":39},"generated":{"line":1,"column":291}},{"source":"../../controllers/reviewController.js","name":"exports","original":{"line":14,"column":0},"generated":{"line":1,"column":294}},{"source":"../../controllers/reviewController.js","name":"deleteReview","original":{"line":14,"column":8},"generated":{"line":1,"column":302}},{"source":"../../controllers/reviewController.js","name":"factory","original":{"line":14,"column":21},"generated":{"line":1,"column":315}},{"source":"../../controllers/reviewController.js","name":"deleteOne","original":{"line":14,"column":29},"generated":{"line":1,"column":317}},{"source":"../../controllers/reviewController.js","name":"Review","original":{"line":14,"column":39},"generated":{"line":1,"column":327}},{"source":"../../controllers/reviewController.js","name":"exports","original":{"line":15,"column":0},"generated":{"line":1,"column":330}},{"source":"../../controllers/reviewController.js","name":"updateReview","original":{"line":15,"column":8},"generated":{"line":1,"column":338}},{"source":"../../controllers/reviewController.js","name":"factory","original":{"line":15,"column":21},"generated":{"line":1,"column":351}},{"source":"../../controllers/reviewController.js","name":"updateOne","original":{"line":15,"column":29},"generated":{"line":1,"column":353}},{"source":"../../controllers/reviewController.js","name":"Review","original":{"line":15,"column":39},"generated":{"line":1,"column":363}}],"sources":{"../../controllers/reviewController.js":"const Review=require('./../models/reviewModel');\r\n// const catchAsync=require('./../utils/catchAsync');\r\nconst factory=require('./handleFactory');\r\n\r\nexports.setTourUserIds=(req,res,next)=>{\r\n    if(!req.body.tour) req.body.tour=req.params.tourId;\r\n    if(!req.body.user) req.body.user=req.user.id;\r\n    next();\r\n};\r\n\r\nexports.getAllReviews = factory.getAll(Review);\r\nexports.getReview = factory.getOne(Review);\r\nexports.createReview=factory.createOne(Review);\r\nexports.deleteReview=factory.deleteOne(Review);\r\nexports.updateReview=factory.updateOne(Review);\r\n"},"lineCount":null}},"error":null,"hash":"df89a4657a46dad39da290efec501096","cacheData":{"env":{}}}